# This file is auto-generated from the global schema definitions.
# To override a column definition, add the 'override' tag to that column.

version: 2

column_definitions:
  aggregator_dau: &aggregator_dau
    name: aggregator_dau
    description: "The number of daily active traders Jupiter's aggregator. Calculated as distinct user addresses interacting with Jupiter's v6 aggregator program."
    tags:
      - override

  aggregator_fees: &aggregator_fees
    name: aggregator_fees
    description: "The total fees generated by Jupiter's v6 aggregator. In January 2025, Jupiter activated fees on Ultra mode, which vary depending on the tokens being swapped. Additionally, until January 2025, Jupiter took a 2.5% cut of all fees imposed by integrating products (eg. Phantom)."
    tags:
      - override

  aggregator_txns: &aggregator_txns
    name: aggregator_txns
    description: "The number of daily swaps initiated on Jupiter's v6 aggregator"
    tags:
      - override

  aggregator_volume: &aggregator_volume
    name: aggregator_volume
    description: "The total volume generated by Jupiter's v6 aggregator"
    tags:
      - override

  buyback_fee_allocation: &buyback_fee_allocation
    name: buyback_fee_allocation
    description: "Portion of revenue allocated to buy back tokens of the protocol. Jupiter allocates 50% of protocol revenue to token buybacks."
    tags:
      - artemis_gaap
      - override

  circulating_supply_native: &circulating_supply_native
    name: circulating_supply_native
    description: "The circulating supply of a token, equal to the issued supply minus unvested tokens."
    tags:
      - artemis_gaap

  fdmc: &fdmc
    name: fdmc
    description: "The fully diluted market cap of a token in USD"
    tags:
      - artemis_gaap

  fees: &fees
    name: fees
    description: "The total fees generated by Jupiter across the aggregator, dca, limit order, and perpetuals products."
    tags:
      - artemis_gaap
      - override

  issued_supply_native: &issued_supply_native
    name: issued_supply_native
    description: "The issued supply of a token, equal to the total supply minus foundation or DAO held tokens."
    tags:
      - artemis_gaap

  lst_tvl: &lst_tvl
    name: lst_tvl
    description: "The total value locked in a liquid staking protocol"

  market_cap: &market_cap
    name: market_cap
    description: "The market cap of a token in USD"
    tags:
      - artemis_gaap
      - override

  max_supply_native: &max_supply_native
    name: max_supply_native
    description: "The maximum supply of a token, including any uncreated tokens, unvested tokens, foundation or DAO held tokens, and burned tokens."
    tags:
      - artemis_gaap

  net_supply_change_native: &net_supply_change_native
    name: net_supply_change_native
    description: "The net change in the circulating supply of a token in native tokens"

  perp_dau: &perp_dau
    name: perp_dau
    description: "The number of unique traders on Jupiter's perpetuals product"
    tags:
      - override

  perp_fees: &perp_fees
    name: perp_fees
    description: "The fees generated by traders on Jupiter's perpetuals product."
    tags:
      - override

  perp_txns: &perp_txns
    name: perp_txns
    description: "The total number of trades on Jupiter's perpetuals product"
    tags:
      - override

  perp_volume: &perp_volume
    name: perp_volume
    description: "The total trading volume on Jupiter's perpetuals product"
    tags:
      - override

  premine_unlocks_native: &premine_unlocks_native
    name: premine_unlocks_native
    description: "The amount of native tokens unlocked from premine"

  price: &price
    name: price
    description: "The price of a token in USD"
    tags:
      - artemis_gaap

  revenue: &revenue
    name: revenue
    description: "The total revenue generated by a protocol"
    tags:
      - artemis_gaap

  service_fee_allocation: &service_fee_allocation
    name: service_fee_allocation
    description: "The share of protocol revenue accrued to the JLP pool. This is calculated as 75% of revenue generated on the perpetuals product."
    tags:
      - artemis_gaap
      - override

  token_turnover_circulating: &token_turnover_circulating
    name: token_turnover_circulating
    description: "The turnover of a token in USD, based on the token's circulating supply."
    tags:
      - artemis_gaap

  token_turnover_fdv: &token_turnover_fdv
    name: token_turnover_fdv
    description: "The turnover of a token in USD, based on the token's fully diluted supply."
    tags:
      - artemis_gaap

  token_volume: &token_volume
    name: token_volume
    description: "The volume of a token in USD"
    tags:
      - artemis_gaap

  total_supply_native: &total_supply_native
    name: total_supply_native
    description: "The total supply of a token, equal to the sum of all tokens created minus the sum of all tokens destroyed."
    tags:
      - artemis_gaap

  treasury_fee_allocation: &treasury_fee_allocation
    name: treasury_fee_allocation
    description: "Revenue allocated to the protocol's treasury for future use, including development, growth, or governance. This is calculated as 25% of revenue generated on the perpetuals product, plus all revenue generated from limit orders, DCA, and the aggregator product."
    tags:
      - artemis_gaap
      - override

  tvl: &tvl
    name: tvl
    description: "The total value locked in a protocol"

models:
  - name: ez_jupiter_metrics
    description: "This table stores metrics for the JUPITER protocol"
    columns:
      - *aggregator_dau
      - *aggregator_fees
      - *aggregator_txns
      - *aggregator_volume
      - *buyback_fee_allocation
      - *circulating_supply_native
      - *fdmc
      - *fees
      - *issued_supply_native
      - *lst_tvl
      - *market_cap
      - *max_supply_native
      - *net_supply_change_native
      - *perp_dau
      - *perp_fees
      - *perp_txns
      - *perp_volume
      - *premine_unlocks_native
      - *price
      - *revenue
      - *service_fee_allocation
      - *token_turnover_circulating
      - *token_turnover_fdv
      - *token_volume
      - *total_supply_native
      - *treasury_fee_allocation
      - *tvl
  - name: ez_jupiter_metrics_by_token
    description: "This table stores metrics for the JUPITER protocol"
    columns:
      - *perp_dau
      - *perp_fees
      - *perp_volume
  - name: ez_jupiter_metrics_by_chain
    description: "This table stores metrics for the JUPITER protocol"
    columns:
      - *aggregator_dau
      - *aggregator_fees
      - *aggregator_txns
      - *aggregator_volume
      - *buyback_fee_allocation
      - *fdmc
      - *fees
      - *market_cap
      - *perp_dau
      - *perp_fees
      - *perp_txns
      - *perp_volume
      - *price
      - *service_fee_allocation
      - *token_turnover_circulating
      - *token_turnover_fdv
      - *token_volume
      - *treasury_fee_allocation
